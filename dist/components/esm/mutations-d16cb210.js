import{c as clearCheckout$1,s as state,u as updateFormState}from"./mutations-d03185e9.js";import{c as createErrorNotice}from"./mutations-0a628afa.js";import{u as updateLineItem,r as removeLineItem,a as addLineItem}from"./index-90ce0612.js";import{a as apiFetch}from"./fetch-2525e763.js";import{a as addQueryArgs}from"./add-query-args-f4c5962b.js";const clearCheckout=()=>clearCheckout$1(state.formId,state.mode),lockCheckout=e=>state.locks=[...state.locks,e],unLockCheckout=(e="")=>state.locks=e?state.locks.filter((t=>t!==e)):[],updateCheckoutLineItem=async({id:e,data:t})=>{try{updateFormState("FETCH"),state.checkout=await updateLineItem({id:e,data:t}),updateFormState("RESOLVE")}catch(e){console.error(e),createErrorNotice(e),updateFormState("REJECT")}},removeCheckoutLineItem=async e=>{try{updateFormState("FETCH"),state.checkout=await removeLineItem({checkoutId:state.checkout.id,itemId:e}),updateFormState("RESOLVE")}catch(e){console.error(e),createErrorNotice(e),updateFormState("REJECT")}},addCheckoutLineItem=async e=>{try{updateFormState("FETCH"),state.checkout=await addLineItem({checkout:state.checkout,data:e,live_mode:"live"===(null==state?void 0:state.mode)}),updateFormState("RESOLVE")}catch(e){console.error(e),createErrorNotice(e),updateFormState("REJECT")}},trackOrderBump=e=>{var t,a,o;(null===(t=state.checkout)||void 0===t?void 0:t.id)&&apiFetch({path:addQueryArgs(`surecart/v1/checkouts/${state.checkout.id}/offer_bump/${e}`,{t:Date.now(),...!!(null===(o=null===(a=null==state?void 0:state.checkout)||void 0===a?void 0:a.invoice)||void 0===o?void 0:o.id)&&{type:"open_invoice"}}),method:"POST",keepalive:!0})};export{addCheckoutLineItem as a,unLockCheckout as b,clearCheckout as c,lockCheckout as l,removeCheckoutLineItem as r,trackOrderBump as t,updateCheckoutLineItem as u};